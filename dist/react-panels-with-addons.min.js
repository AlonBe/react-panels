!function(){var a={pixelsOf:function(a){var b=parseInt(a)||0;return b?String(b)+"px":"0"}},b=React.createClass({displayName:"FloatingPanel",getDefaultProps:function(){return{left:0,top:0,width:420,style:{}}},getInitialState:function(){return this._pflag=!0,{left:parseInt(this.props.left),top:parseInt(this.props.top),width:parseInt(this.props.width)}},getSelectedIndex:function(){return this.refs.panel.getSelectedIndex()},setSelectedIndex:function(a){this.refs.panel.setSelectedIndex(a),this._pflag=!0,this.forceUpdate()},dragStart:function(a){this.panelBounds={startLeft:this.state.left,startTop:this.state.top,startPageX:a.pageX,startPageY:a.pageY};try{var b=document.createElement("img");b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAADUlEQVQI12NgYGBgAAAABQABXvMqOgAAAABJRU5ErkJggg==",b.width=1,a.dataTransfer.setData("text/plain","Panel"),a.dataTransfer.setDragImage(b,-1e3,-1e3)}catch(c){}window.addEventListener("dragover",this.dragOver)},dragEnd:function(){delete this.panelBounds,window.removeEventListener("dragover",this.dragOver)},dragOver:function(a){if(this.panelBounds){var b=this.panelBounds.startLeft+(a.pageX-this.panelBounds.startPageX),c=this.panelBounds.startTop+(a.pageY-this.panelBounds.startPageY);this.setState({left:b,top:c})}},render:function(){var b=this,d="translate3d("+a.pixelsOf(b.state.left)+", "+a.pixelsOf(b.state.top)+", 0)",e=React.addons.update({WebkitTransform:d,MozTransform:d,msTransform:d,transform:d,width:a.pixelsOf(b.state.width),position:"absolute"},{$merge:b.props.style});if(b._pflag){var f=React.addons.update(b.props,{$merge:{style:{}}});delete f.style,b.inner=React.createElement(c,React.__spread({},f,{ref:"panel",onDragStart:b.dragStart,onDragEnd:b.dragEnd,floating:!0}),b.props.children),b._pflag=!1}return React.createElement("div",{className:"react-panel-wrapper",style:e},b.inner)}}),c=React.createClass({displayName:"Panel",getDefaultProps:function(){return{icon:!1,title:"",selectedIndex:0,autocompact:!0,floating:!1,onDragStart:null,onDragEnd:null,maxTitleWidth:130}},getInitialState:function(){return{selectedIndex:parseInt(this.props.selectedIndex),compacted:this.props.autocompact}},getSelectedIndex:function(){return this.state.selectedIndex},setSelectedIndex:function(a){this.setState({selectedIndex:parseInt(a)}),this.forceUpdate()},_getIcon:function(){var a=null;return this.props.icon&&(a=React.createElement("span",{className:"panel-icon"},React.createElement("i",{className:this.props.icon}))),a},handleClick:function(a,b){"function"==typeof this.props.onTabClick?this.props.onTabClick(b,this)!==!1&&this.setSelectedIndex(b):this.setSelectedIndex(b)},componentDidMount:function(){var a=this.refs["tabs-start"].getDOMNode(),b=this.refs["tabs-end"].getDOMNode(),c=this.refs.tabs.getDOMNode().offsetWidth,d=b.offsetLeft-(a.offsetLeft+a.offsetWidth);d>=2*c&&this.setState({compacted:!1})},componentWillReceiveProps:function(a){var b=React.Children.count(this.props.children),c=React.Children.count(a.children);if(c>b&&this.props.autocompact&&!this.state.compacted){var d=this.refs["tabs-start"].getDOMNode(),e=this.refs["tabs-end"].getDOMNode(),f=this.refs.tabs.getDOMNode().offsetWidth,g=e.offsetLeft-(d.offsetLeft+d.offsetWidth),h=this.props.maxTitleWidth+35;f+h>=g&&this.setState({compacted:!0})}},handleDragStart:function(a){"function"==typeof this.props.onDragStart&&this.props.onDragStart(a)},handleDragEnd:function(){"function"==typeof this.props.onDragEnd&&this.props.onDragEnd()},render:function(){var b=this,c="react-panel"+("string"==typeof this.props.theme?" "+this.props.theme:""),e=this._getIcon(),f=this.props.title.length?React.createElement("div",{className:"panel-title-box",style:{maxWidth:a.pixelsOf(this.props.maxTitleWidth)}},React.createElement("div",{className:"panel-title"},this.props.title)):null,g=this.props.floating?"true":"false",h=0,i=this.getSelectedIndex(),j=[],k=[];return React.Children.forEach(b.props.children,function(a){var c="tabb-"+h,e="tab-"+h,f=!0,g={icon:a.props.icon,title:a.props.title,pinned:a.props.pinned};b.state.compacted&&(g.pinned||i==h||(f=!1)),j.push(React.createElement(d,{key:h,title:g.title,icon:g.icon,selectedIndex:i,index:h,ref:c,showTitle:f,maxTitleWidth:b.props.maxTitleWidth,onClick:b.handleClick})),k.push(React.addons.cloneWithProps(a,{key:h,ref:e,selectedIndex:i,index:h})),++h}),React.createElement("div",{className:c},React.createElement("header",{draggable:g,onDragEnd:b.handleDragEnd,onDragStart:b.handleDragStart,ref:"header"},e,f,React.createElement("div",{className:"panel-tabs-start",ref:"tabs-start"}),React.createElement("ul",{className:"panel-tabs",ref:"tabs"},j),React.createElement("div",{className:"panel-tabs-end",ref:"tabs-end"})),React.createElement("div",{className:"panel-body"},k))}}),d=React.createClass({displayName:"TabButton",getDefaultProps:function(){return{icon:"",title:"",index:0,selectedIndex:!1,showTitle:!0,maxTitleWidth:130}},handleClick:function(a){a.preventDefault(),this.props.onClick(a,this.props.index)},render:function(){var b=null,c={maxWidth:a.pixelsOf(this.props.maxTitleWidth)},d=this.props.selectedIndex==this.props.index,e="",f="panel-tab";return this.props.showTitle&&this.props.title.length?e=React.createElement("div",{className:"panel-title"},this.props.title):c={marginLeft:0},f+=d?" active":"",this.props.icon&&(b=React.createElement("div",{className:"panel-icon"},React.createElement("i",{className:this.props.icon}))),React.createElement("li",{className:f,onClick:this.handleClick},React.createElement("div",{title:this.props.title},b," ",React.createElement("div",{className:"panel-title-box",style:c},e)))}}),e=React.createClass({displayName:"Tab",getDefaultProps:function(){return{icon:"",title:"",index:0,selectedIndex:0,pinned:!1,showToolbar:!0,panelComponentType:"Tab"}},getInitialState:function(){return this._internalValues={},this._wrapped=!1,{}},setInternalValues:function(a){this._wrapped=!0,this._internalValues=a},getSelectedIndex:function(){return this._wrapped?this._internalValues.selectedIndex:this.props.selectedIndex},getIndex:function(){return this._wrapped?this._internalValues.index:this.props.index},render:function(){var a=this,b=React.Children.count(this.props.children),c=0,d={display:this.getSelectedIndex()==this.getIndex()?"block":"none"},e={display:this.props.showToolbar?"block":"none"},f="panel-tab",g=!1,h=React.Children.map(a.props.children,function(a){var d=0==c&&b>=2?0:1;if(React.isValidElement(a)&&"undefined"!=typeof a.props.panelComponentType)switch(String(a.props.panelComponentType)){case"Toolbar":d=0;break;case"Content":d=1;break;case"Footer":d=2}switch(d){case 0:return g=!0,React.createElement("div",{className:"panel-toolbar",key:c++,style:e},a);case 1:return React.createElement("div",{className:"panel-content",key:c++},a);case 2:return React.createElement("div",{className:"panel-footer",key:c++},a)}});return f+=this.props.showToolbar&&g?" with-toolbar":"",React.createElement("div",{className:f,style:d},h)}}),f={Toolbar:{getDefaultProps:function(){return{panelComponentType:"Toolbar"}}},Content:{getDefaultProps:function(){return{panelComponentType:"Content"}}},Footer:{getDefaultProps:function(){return{panelComponentType:"Footer"}}},TabWrapper:{getDefaultProps:function(){return{panelComponentType:"TabWrapper",icon:"",title:"",pinned:!1}},getInitialState:function(){return this._propagated=!1,{}},componentWillReceiveProps:function(a){this._propagated&&this.props.index==a.index&&this.props.selectedIndex==a.selectedIndex||(this._propagated=!0,this._reactInternalInstance._renderedComponent._instance.setInternalValues({selectedIndex:a.selectedIndex,index:a.index}),this.forceUpdate())}}},g=React.createClass({displayName:"Toolbar",mixins:[f.Toolbar],render:function(){return React.createElement("div",null,this.props.children)}}),h=React.createClass({displayName:"Content",mixins:[f.Content],render:function(){return React.createElement("div",null,this.props.children)}}),i=React.createClass({displayName:"Footer",mixins:[f.Footer],render:function(){return React.createElement("div",null,this.props.children)}}),j={},k=React.createClass({displayName:"ScrollableTabContent",mixins:[f.Content],getDefaultProps:function(){return{height:250,opts:{cursorcolor:"rgb(139, 128, 102)",cursoropacitymin:.25,cursoropacitymax:.5,cursorwidth:9,cursorminheight:60}}},componentDidMount:function(){$(this.refs.content.getDOMNode()).niceScroll(this.refs.wrapper.getDOMNode(),this.props.opts)},render:function(){var b={height:a.pixelsOf(this.props.height),paddingRight:a.pixelsOf((this.props.opts.cursorwidth||5)+4),overflow:"scroll"};return React.createElement("div",{ref:"content",style:b},React.createElement("div",{ref:"wrapper"},this.props.children))}});j.ScrollableTabContent=k,window.ReactPanels={Panel:c,FloatingPanel:b,Tab:e,Mixins:f,Toolbar:g,Content:h,Footer:i,addons:j}}();
//# sourceMappingURL=react-panels-with-addons.min.js.map